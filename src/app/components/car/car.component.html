<div class="container-fluid car-container">
  <div class="d-flex flex-column">
    <!--    <div-->
    <!--      class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">-->
    <div class="d-flex p-2 border-bottom mt-3">
      <button class="btn btn-lg btn-outline-primary text-center" data-toggle="modal"
              data-target="#addCarModal">
        <span><i class="fa fa-car"></i></span>
        <br>Dodaj pojazd
      </button>
    </div>

    <!-- Notification for no cars -->
    <div *ngIf="cars?.length == 0 else noEmptyList" class="p-2 col-lg-12 col-md-12 col-xl-12">
      <div class="alert alert-warning" role="alert">
        <h4 class="alert-heading text-center"><i class="fa fa-exclamation-triangle"></i> NO CARS!</h4>
        <p class="text-center">No cars were found.</p>
      </div>
    </div>
  </div>
</div>

<!-- List of cars -->
<ng-template #noEmptyList>
  <h1 class="h2 border-bottom mt-5">Lista pojazdów:</h1>
  <table class="table table-hover">
    <thead class="thead-dark">
    <tr class="table-dark">
      <th scope="col" class="text-center">#</th>
      <th scope="col" class="text-center">Marka</th>
      <th scope="col" class="text-center">Model</th>
      <th scope="col" class="text-center">Nr rejestracyjny</th>
      <th scope="col" class="text-center">VIN</th>
      <th scope="col" class="text-center">Rok produkcji</th>
      <th scope="col" class="text-center">Akcje</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let car of cars">
      <th scope="row" class="text-center align-middle">{{car.id}}</th>
      <td class="text-center align-middle">{{car.brand}}</td>
      <td class="text-center align-middle">{{car.model}}</td>
      <td class="text-center align-middle">{{car.registrationNumber}}</td>
      <td class="text-center align-middle">{{car.vinNumber}}</td>
      <td class="text-center align-middle">{{car.productionYear}}</td>
      <td>
        <div class="d-flex justify-content-end btn-group" role="group">
          <a href="/car/{{car.id}}">
            <button class="btn btn-outline-info m-1"><i class="fa fa-search"></i> Info</button>
          </a>
          <!--          <button class="btn btn-outline-warning m-1" data-toggle="modal" data-target="#editCarModal"><i class="fa fa-edit"></i> Edytuj</button>-->
          <button class="btn btn-outline-danger m-1"><i class="fa fa-remove"></i> Usuń</button>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
</ng-template>

<!-- addCarModal -->
<div class="modal fade" id="addCarModal" tabindex="-1" role="dialog" aria-labelledby="addCarModalLabel"
     aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addCarModalLabel">Dodaj pojazd</h5>
        <button type="button" id="closeAddCarModal" class="btn" data-dismiss="modal"
                aria-label="Close"><i class="fa fa-window-close"></i></button>
      </div>
      <div class="modal-body">
        <form #addCarForm="ngForm">
          <div class="form-group mb-3">
            <label for="brand" class="form-label">Marka:</label>
            <input id="brand" type="text" class="form-control" name="brand" required
                   [(ngModel)]="newCar.brand" #brand="ngModel">
            <div class="text-danger" *ngIf="brand.errors && (brand.touched || brand.dirty)">
              <small *ngIf="brand.errors.required">Marka jest wymagana</small>
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="model" class="form-label">Model:</label>
            <input id="model" type="text" class="form-control" name="model" required
                   [(ngModel)]="newCar.model" #model="ngModel">
            <div class="text-danger" *ngIf="model.errors && (model.touched || model.dirty)">
              <small *ngIf="model.errors.required">Model jest wymagany</small>
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="registrationNumber" class="form-label">Numer rejestracyjny:</label>
            <input id="registrationNumber" type="text" class="form-control" name="registrationNumber"
                   required minlength="3" maxlength="8"
                   [(ngModel)]="newCar.registrationNumber" #registrationNumber="ngModel">
            <div class="text-danger"
                 *ngIf="registrationNumber.errors && (registrationNumber.touched || registrationNumber.dirty)">
              <small *ngIf="registrationNumber.errors.required">Numer rejestracyjny jest wymagany</small>
              <small *ngIf="registrationNumber.errors.minLength">Numer rejestracyjny musi mieć conajmniej 3
                znaki</small>
              <small *ngIf="registrationNumber.errors.maxLength">Numer rejestracyjny musi mieć maksymalnie 8
                znaków</small>
            </div>

          </div>
          <div class="form-group mb-3">
            <label for="vinNumber" class="form-label">VIN:</label>
            <input id="vinNumber" type="text" class="form-control" name="vinNumber"
                   required [minlength]="17" [maxlength]="17"
                   [(ngModel)]="newCar.vinNumber" #vinNumber="ngModel">
            <div class="text-danger" *ngIf="vinNumber.errors && (vinNumber.touched || vinNumber.dirty)">
              <small *ngIf="vinNumber.errors.required">VIN jest wymagany</small>
              <small *ngIf="vinNumber.errors.min">VIN musi mieć długość 17 znaków<</small>
              <small *ngIf="vinNumber.errors.max">VIN musi mieć długość 17 znaków</small>
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="productionYear" class="form-label">Rok produkcji:</label>
            <input id="productionYear" type="number" class="form-control" name="productionYear"
                   required min="2000" max="2050"
                   [(ngModel)]="newCar.productionYear" #productionYear="ngModel">
            <div class="text-danger" *ngIf="productionYear.errors && (productionYear.touched || productionYear.dirty)">
              <small *ngIf="productionYear.errors?.required">Rok produkcji jest wymagany</small>
              <small *ngIf="productionYear.errors?.minlength || productionYear.errors?.maxlength">Rok produkcji musi być
                późniejszy niż 2000</small>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" (click)="onClear(addCarForm)" class="btn btn-warning mx-2"><i class="fa fa-close"></i>
          Wyczyść
        </button>
        <button [disabled]="!addCarForm.valid" type="submit" (click)="onAddCar(addCarForm)"
                class="btn btn-primary mx-2"><i class="fa fa-save"></i> Zapisz
        </button>
      </div>
    </div>
  </div>
</div>

<!-- editCarModal -->
<!--<div class="modal fade" id="editCarModal" tabindex="-1" role="dialog" aria-labelledby="editCarModalLabel"-->
<!--     aria-hidden="true">-->
<!--  <div class="modal-dialog">-->
<!--    <div class="modal-content">-->
<!--      <div class="modal-header">-->
<!--        <h5 class="modal-title" id="editCarModalLabel">Edytuj pojazd</h5>-->
<!--        <button type="button" id="closeEditCarModal" class="btn" data-dismiss="modal"-->
<!--                aria-label="Close"><i class="fa fa-window-close"></i></button>-->
<!--      </div>-->
<!--      <div class="modal-body">-->
<!--        <form [formGroup]="editCarForm">-->
<!--          <div class="mb-3">-->
<!--            <label for="id" class="form-label">Id:</label>-->
<!--            <input type="text" class="form-control" id="id" formControlName="id">-->
<!--          </div>-->
<!--          <div class="mb-3">-->
<!--            <label for="brand" class="form-label">Marka:</label>-->
<!--            <input type="text" class="form-control" id="brand" formControlName="brand">-->
<!--            <small *ngIf="editCarForm.get('brand')?.hasError('required') && editCarForm.get('brand')?.touched"-->
<!--                   class="text-danger">Marka jest wymagana-->
<!--            </small>-->
<!--          </div>-->
<!--          <div class="mb-3">-->
<!--            <label for="model" class="form-label">Model:</label>-->
<!--            <input type="text" class="form-control" id="model" formControlName="model">-->
<!--            <small *ngIf="editCarForm.get('model')?.hasError('required') && editCarForm.get('model')?.touched"-->
<!--                   class="text-danger">Model jest wymagany-->
<!--            </small>-->
<!--          </div>-->
<!--          <div class="mb-3">-->
<!--            <label for="registrationNumber" class="form-label">Numer rejestracyjny:</label>-->
<!--            <input type="text" class="form-control" id="registrationNumber" formControlName="registrationNumber">-->
<!--            <small-->
<!--              *ngIf="editCarForm.get('registrationNumber')?.hasError('required') && editCarForm.get('registrationNumber')?.touched"-->
<!--              class="text-danger">Numer rejestracyjny jest wymagany-->
<!--            </small>-->
<!--            <small-->
<!--              *ngIf="editCarForm.get('registrationNumber')?.hasError('minLength')"-->
<!--              class="text-danger">Numer rejestracyjny musi mieć conajmniej 3 znaki</small>-->
<!--            <small-->
<!--              *ngIf="editCarForm.get('registrationNumber')?.hasError('maxLength')"-->
<!--              class="text-danger">Numer rejestracyjny musi mieć maksymalnie 8 znaków</small>-->
<!--          </div>-->
<!--          <div class="mb-3">-->
<!--            <label for="vinNumber" class="form-label">VIN:</label>-->
<!--            <input type="text" class="form-control" id="vinNumber" formControlName="vinNumber">-->
<!--            <small *ngIf="editCarForm.get('vinNumber')?.hasError('required') && editCarForm.get('vinNumber')?.touched"-->
<!--                   class="text-danger">VIN jest wymagany</small>-->
<!--            <small-->
<!--              *ngIf="editCarForm.get('vinNumber')?.hasError('minLength') || editCarForm.get('vinNumber')?.hasError('maxLength')"-->
<!--              class="text-danger">VIN musi mieć długość 17 znaków</small>-->
<!--          </div>-->
<!--          <div class="mb-3">-->
<!--            <label for="productionYear" class="form-label">Rok produkcji:</label>-->
<!--            <input type="number" class="form-control" id="productionYear" formControlName="productionYear">-->
<!--            <small-->
<!--              *ngIf="editCarForm.get('productionYear')?.hasError('required') && newCarForm.get('productionYear')?.touched"-->
<!--              class="text-danger">Rok produkcji jest wymagany</small>-->
<!--            <small-->
<!--              *ngIf="editCarForm.get('productionYear')?.hasError('min') || newCarForm.get('productionYear')?.hasError('max')"-->
<!--              class="text-danger">Rok produkcji musi być późniejszy niż 2000</small>-->
<!--          </div>-->
<!--        </form>-->
<!--      </div>-->
<!--      <div class="modal-footer">-->
<!--        <button type="button" (click)="clearForm()" class="btn btn-warning mx-2"><i class="fa fa-close"></i> Wyczyść-->
<!--        </button>-->
<!--        <button [disabled]="!editCarForm.valid" type="button" class="btn btn-primary mx-2"><i-->
<!--          class="fa fa-save"></i> Zapisz-->
<!--        </button>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->
